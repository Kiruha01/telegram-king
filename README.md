# Telegram King
Телеграм-бот для подсчёта очков в игре [Кинг](https://ru.wikipedia.org/wiki/Кинг_(игра))

[Рабочий бот](https://t.me/gameofking_bot) `@gameofking_bot` 

## Правила

Цель игры - набрать наибольшее количество очков, стараясь брать или не брать взятки.

### Раздача карт

В игре участвуют 32 карты (от семёрки до туза), если играют вчетвером, или 30 карт (исключают
две чёрные семерки), если играют втроём. 

### Ход игры

Во время каждого хода игрок должен скинуть одну из своих карт на стол той же масти, с которой 
начали ход. Если у игрока нет карты этой масти, ему разрешается бросить любую карту (если она 
допустима во время текущего кона). Игрок, бросивший самую высокую карту подходящей масти, берёт
взятку и кладёт возле себя. После каждого кона происходит подсчет очков.

### Подсчет очков

Очки начисляются по-разному в зависимости от кона. Данные для каждого кона представленные в 
таблице.

|                 Кон             |     Особенность кона   |                 Для 3 игроков                | Для 4 игроков                                |
| :-----------------------------: | ---------------------- | -------------------------------------------- | -------------------------------------------- |
|        **Не брать взятки**      |         -              |          `-2` очка за каждую взятку          |           `-4` очка за каждую взятку         |
|         **Не брать черви**      | С червей ходить нельзя |        `-2` очка за каждую червовую карту    |       `-5` очка за каждую червовую карту     |
|       **Не брать мальчиков**    |         -              |         `-4` очка за каждого валета          |          `-10` очка за каждого валета        |
|        **Не брать девочек**     |         -              |          `-2` очка за каждую даму            |          `-10` очка за каждую даму           |
|        **Не брать "Кинга"**     | С червей ходить нельзя. Необходимо сбросить кинга при отсутствии подходящей карты | `-16` очка за Кинга | `-40` очка за Кинга |
| **Не брать 2 последние взятки** |         -              |      `-8` очка за каждую последнюю взятку    |      `-20` очка за каждую последнюю взятку   |
|      **Отрицательный Ералаш**   |  Учитываются все коны  | Очки начисляются, как за все предыдущие коны | Очки начисляются, как за все предыдущие коны |
|||||
|           **Брать взятки**      |         -              |          `+2` очка за каждую взятку          |           `+4` очка за каждую взятку         |
|            **Брать черви**      | С червей ходить нельзя |        `+2` очка за каждую червовую карту    |       `+5` очка за каждую червовую карту     |
|          **Брать мальчиков**    |         -              |         `+4` очка за каждого валета          |          `+10` очка за каждого валета        |
|           **Брать девочек**     |         -              |          `+2` очка за каждую даму            |          `+10` очка за каждую даму           |
|           **Брать "Кинга"**     | С червей ходить нельзя. Необходимо сбросить кинга при отсутствии подходящей карты | `+16` очка за Кинга | `+40` очка за Кинга |
|    **Брать 2 последние взятки** |         -              |      `+8` очка за каждую последнюю взятку    |      `+20` очка за каждую последнюю взятку   |
|      **Положительный Ералаш**   |  Учитываются все коны  | Очки начисляются, как за все предыдущие коны | Очки начисляются, как за все предыдущие коны |




## Типы состояний пользователя

* `start` - Состояние регистрации в игре 

* `names` - Состояние ввода имён игроков

* `negative_bribes` - кон "не брать взятки"
* `negative_hearts` - кон "не брать черви"
* `negative_boys` - кон "не брать мальчиков"
* `negative_girls` - кон "не брать девочек"
* `negative_king` - кон "не брать кинга"
* `negative_patchwork` - кон "отрицательный ералаш"


* `positive_bribes` - кон "брать взятки"
* `positive_hearts` - кон "брать черви"
* `positive_boys` - кон "брать мальчиков"
* `positive_girls` - кон "брать девочек"
* `positive_king` - кон "брать кинга"
* `positive_patchwork` - кон "положительный ералаш"

* `final` - Состояние результатов
